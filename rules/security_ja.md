# セキュリティガイドライン

## 必須セキュリティチェック

コミット前に確認すること：
- [ ] ハードコードされたシークレット（APIキー、パスワード、トークン）がない
- [ ] すべてのユーザー入力が検証されている
- [ ] SQLインジェクション対策（パラメータ化されたクエリ）
- [ ] XSS対策（サニタイズされたHTML）
- [ ] CSRF保護が有効になっている
- [ ] 認証/認可が確認されている
- [ ] すべてのエンドポイントにレート制限がある
- [ ] エラーメッセージが機密情報を漏らしていない

## シークレット管理

```typescript
// してはいけないこと：ハードコードされたシークレット
const apiKey = "sk-proj-xxxxx"

// すべきこと：環境変数を使用
const apiKey = process.env.OPENAI_API_KEY

if (!apiKey) {
  throw new Error('OPENAI_API_KEY not configured')
}
```

## セキュリティ対応プロトコル

セキュリティ問題が見つかった場合：
1. 直ちに停止
2. **security-reviewer** エージェントを使用
3. コンテニューする前にCRITICALな問題を修正
4. 公開されたシークレットをローテーション
5. コードベース全体で同様の問題をレビュー
